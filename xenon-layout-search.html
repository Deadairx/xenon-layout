<link rel="import" href="../polymer/polymer.html"/>
<link rel="import" href="components/iron-icons/iron-icons.html"/>
<link rel="import" href="components/iron-icon/iron-icon.html"/>
<dom-module id="xenon-layout-search">
    <template>
        <style>
            #searchbox { margin: 0px; transition: width 0.5s; width: 320px; animation: slidein 1s; height: 30px; padding: 0px 8px 0px 8px; font-size: 10pt; background-color: rgba(255,255,255,0.2); border: none; border-radius: 4px; color: white; }
            @keyframes slidein {
                from { width: 0px; opacity:0 }
                to { width: 320px; opacity:1 }
            }
        </style>
        <input id="searchbox" placeholder="search" hidden on-keypress="_key"></input>
        <iron-icon icon="search" on-click="_toggle"></iron-icon>
    </template>
    <script>
    Polymer({
        is:"xenon-layout-search",
        _key: function(e) {
            if(e.keyCode == 13) {
                this.fire("xenon-layout.search", this.$.searchbox.value);
                this.$.searchbox.value = "";
            }
        },
        _toggle: function() {
            if(!this.$.searchbox.hidden) {
                this.hide();
            } else {
                this.show(); 
            }
        }, 
        hide: function() {
            this.$.searchbox.hidden = true; 
        }, 
        show: function() {
            this.$.searchbox.hidden = false;
            this.$.searchbox.focus();
        }
    });
    </script>
</dom-module>
