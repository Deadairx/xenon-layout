<link rel="import" href="../polymer/polymer.html"/>
<link rel="import" href="../iron-icon/iron-icon.html"/>
<link rel="import" href="../iron-icons/iron-icons.html"/>
<dom-module id="xenon-layout">
    <template>
        <style>
            :host { font-family: Roboto, Arial, Helvetica, sans-serif }
          
            #body { height:100%; box-sizing: border-box; position:relative; }
            #main { position:absolute; overflow-y: scroll; overflow-x: hidden; height:100%; box-sizing: border-box; }
            #header { position:absolute; top:0px; width: inherit; display:flex; align-items: center; box-sizing: border-box;}
            #footer { position:absolute; bottom: 0px; width: inherit; }
            #nav { position:absolute; height:100%; width:200px; z-index:100; }

            #header ::content { padding: 16px; background-color: darkslateblue; color:white; font-weight: 100; }
            #footer ::content > * { padding: 16px; background-color: lightgray; }
            #nav ::content > * { padding: 16px; background-color: whitesmoke; box-sizing: border-box; height:100%; box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5); }
            #main ::content > * { padding:16px; }
        </style>

       <div id="nav">
           <content select="nav"></content>
       </div>
        <div id="body">
            <div id="header">
                <iron-icon icon="menu" on-tap="shownav"></iron-icon>&nbsp;&nbsp;<content select="header"></content>
            </div>
            <div id="main">
                <content select="main"></content>
            </div>
            <div id="footer">
                <content select="footer"></content>
            </div>
        </div>
        

    </template>
    <script>
        Polymer({
            is: "xenon-layout", 
            properties: {
                expanded: Boolean
            },      
            ready: function() {
                this.listen(window, "resize", "resize");
            },
            attached: function() {
                this.resize();
            },
            shownav: function() {
                if(this.expanded) return; 
                this.$.nav.style.display = (this.$.nav.style.display == "block") ? "none" : "block";
            },
            resize: function() {
                var width = window.innerWidth;
                if(width < 650) {
                    this.$.body.style.marginLeft = 0;
                    this.$.body.style.width = width;
                    this.expanded = false; 
                    this.$.nav.style.display = "none";
                } else {
                    this.$.body.style.marginLeft = 200;
                    this.$.body.style.width = width - 200;
                    this.expanded = true; 
                    this.$.nav.style.display = "block";
                }
                this.$.main.style.top = this.$.header.offsetHeight;
                this.$.main.style.height = window.innerHeight - this.$.header.offsetHeight - this.$.footer.offsetHeight;
            }
        })
    </script>
</dom-module>


        